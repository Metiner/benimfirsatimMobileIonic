<!--
  Generated template for the OnCommentReplyPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Yorum cevapla</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-item text-wrap>
    <p><b>{{comment.user.name}}</b> tarafından yapılan yoruma cevap vermektesiniz.</p>
    <ion-grid>
      <ion-row>
        <ion-col col-auto>
          <ion-avatar>
            <img src="{{comment.user.avatar_url}}">
          </ion-avatar>
        </ion-col>
        <ion-col col-auto>
          <p class="nickname">{{comment.user.name}}</p>
        </ion-col>
        <ion-col col-auto>
          <p class="votes"> - {{comment.comment_votes_count}} Puan</p>
        </ion-col>
      </ion-row>
      <ion-row>
        <div (click) = "toExpandItem(comment)"
             text-left
             *ngIf="!comment.showContent">
          <p>{{comment.text}}</p>
        </div>
        <div (click) = "toExpandItem(comment)"
             *ngIf="comment.showContent"
             text-wrap>
          <p>{{comment.text}}</p>
        </div>
      </ion-row>
      <ion-row>
        <ion-col class="thumbs" col-auto>
          <button ion-button
                  clear
                  small
                  (click)="upVoteComment()">
            <ion-icon name="thumbs-up"></ion-icon>
          </button>
        </ion-col>
        <ion-col class="thumbs" col-auto>
          <button ion-button
                  clear
                  small>
            <ion-icon name="thumbs-down"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <div style="padding-left: 15%;padding-top: 5%"
           *ngFor="let subComment of comment.comments">
        <ion-row>
          <ion-col col-auto>
            <ion-avatar>
              <img src="https://benimfirsatim.com/{{subComment.user.avatar_url}}">
            </ion-avatar>
          </ion-col>
          <ion-col col-auto>
            <p class="nickname">{{subComment.user.name}}</p>
          </ion-col>
          <ion-col col-auto>
            <p class="votes"> - {{subComment.comment_votes_count}} Puan</p>
          </ion-col>
        </ion-row>
        <ion-row>
          <div (click) = "toExpandItem(subComment)"
               text-left
               *ngIf="!subComment.showContent">
            <p>{{subComment.text}}</p>
          </div>
          <div (click) = "toExpandItem(subComment)"
               *ngIf="subComment.showContent"
               text-wrap>
            <p>{{subComment.text}}</p>
          </div>
        </ion-row>
        <ion-row>
          <ion-col  col-auto>
            <button ion-button
                    clear
                    small
                    (click)="upVoteComment()">
              <ion-icon name="thumbs-up"></ion-icon>
            </button>
          </ion-col>
          <ion-col  col-auto>
            <button ion-button
                    clear
                    small>
              <ion-icon name="thumbs-down"></ion-icon>
            </button>
          </ion-col>
        </ion-row>
      </div>
    </ion-grid>
  </ion-item>
</ion-content>
<ion-footer>
  <form #f="ngForm"
        (ngSubmit)="onCommentSubmit(f)">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-input style="padding-top: 5%;padding-left: 10%"
                     [ngModel] type="text"
                     placeholder="Yorum yaz..."
                     name="comment"
                     required></ion-input>
        </ion-col>
        <ion-col>
          <button style="padding-left: 5%"
                  ion-button
                  [disabled]="!f.valid"
                  type="submit"
                  clear>
            <ion-icon style="font-size: 2.6em"
                      name="send"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-footer>
