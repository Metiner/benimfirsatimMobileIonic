<ion-card [ngClass]="{'logoComesFromLeft':logoComesFromLeft}" padding-top>
  <ion-row align-self-center>
    <ion-col col-auto class="mx-auto" (click)="onOpportunityPage(opportunity)">
      <img class="deal-image" src="{{opportunity.image_url}}">
    </ion-col>
    <!--<ion-col col-7>
      <ion-row>
        <ion-col style="font-family: MarkPro-Medium;font-size: 13px;color:#234491">
          {{opportunity.details.substring(0,100)+'...'}}
        </ion-col>
      </ion-row>
    </ion-col>-->
  </ion-row>
  <ion-row justify-content-center>
    <ion-col col-auto>
      <span class="font-4">
        {{opportunity.category.name}}
      </span>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="discount()" justify-content-center>
    <ion-col col-auto>
      <span class="font-4" style="color: #D20041">
        BU ÜRÜNDE <span style="font-family: MarkPro-Black">%{{discount()}}</span> İNDİRİM VAR!
      </span>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col text-center (click)="onOpportunityPage(opportunity)">
      <span class="title">{{opportunity.title.substring(0,50)+'...'}}</span>
    </ion-col>
  </ion-row>
  <ion-row align-items-center justify-content-around class="share-buttons">
    <ion-col col-auto *ngIf="opportunity.price">
      <ion-row align-items-center justify-content-center>
        <ion-col col-auto>
          <img class="bf-badge" src="assets/svgs/price_tag.svg">
        </ion-col>
        <ion-col col-auto>
          <ion-label  style="font-family: MarkPro-Black;font-size: 20px;color:#234491">{{whatIsPrice()}}</ion-label>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col col-auto>
      <ion-row align-items-center justify-content-center>
        <ion-col col-auto margin-right>
          <div style="width: 30px" no-padding id="lottie_like_button_{{ unique_id}}" (click)="upVoteDeal(opportunity.id)"></div>
        </ion-col>
        <ion-col col-auto>
          <ion-label class="like-comment-inspan">{{opportunity.votes_sum}}</ion-label>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col col-auto>
      <ion-row align-items-center justify-content-center>
        <ion-col col-auto>
          <img class="bf-badge" src="assets/svgs/comment_button.svg">
        </ion-col>
        <ion-col col-auto>
          <ion-label class="like-comment-inspan">{{opportunity.comments_count}}</ion-label>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="benimFirsatimLib.check_type(opportunity.link) == 'with_photo'" align-items-center justify-content-center>
    <ion-col col-auto>
      <img src="../../assets/svgs/icon-magaza.svg" style="border-radius: 30px;width: 30px">
    </ion-col>
    <ion-col col-auto>
      <span class="vendor-text">{{opportunity.link.substring(0,50)}}</span>
    </ion-col>
  </ion-row>
  <ion-row align-items-center justify-content-center padding-bottom>
    <ion-col col-auto (click)="shareDeal('fb')">
      <img class="share-button" src="assets/new_images/facebook.svg">
    </ion-col>
    <ion-col col-auto (click)="shareDeal('tw')">
      <img class="share-button" src="assets/new_images/twitter.svg">
    </ion-col>
    <ion-col col-auto (click)="onOpportunityPage(opportunity)">
      <img class="go_to_deal_button" src="assets/imgs/button-firsata-git-notext.svg">
      <span class="detaylar-span">DETAYLAR!</span>
    </ion-col>
  </ion-row>
  <ion-row align-items-center justify-content-center>
    <ion-col col-auto>
      <ion-row align-items-center justify-content-center>
        <ion-col col-auto>
          <img src="{{opportunity.user.avatar_url}}" style="border-radius: 30px;width: 30px">
        </ion-col>
        <ion-col col-auto>
          <span class="font-username">{{opportunity.user.name.substring(0,40)}}</span>
        </ion-col>
      </ion-row>
    </ion-col>
    <ion-col col-auto *ngIf="opportunity.city?.name.length > 0">
      <ion-row align-items-center justify-content-center>
        <ion-col col-auto>
          <span class="font-username">{{opportunity.city?.name.toUpperCase()}}</span>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>
</ion-card>
